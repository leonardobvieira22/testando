Entendendo o Novo Motor de Sinais v2.0: Do RSI Puro aos Filtros Avançados
Olá! Você pediu uma explicação detalhada e visual de como o novo motor de sinais v2.0 funciona, especialmente com os novos filtros, e como ele se compara ao seu sistema anterior que usava apenas o RSI. O objetivo é que você, mesmo se considerando leigo, possa entender perfeitamente a lógica e os benefícios.
Vamos embarcar nesta jornada de aprendizado passo a passo. Imagine que seu sistema de trading é um detetive experiente. No sistema antigo (v1.0), o detetive usava apenas uma pista principal (o RSI). No novo sistema (v2.0), ele continua usando essa pista principal, mas agora também consulta outros especialistas (os filtros) antes de tomar uma decisão final. Isso torna as decisões muito mais embasadas e, espera-se, mais acertadas!
1. O Sistema Antigo (v1.0): O Detetive Solitário com o RSI
No seu sistema anterior, o "detetive" (seu bot) tomava decisões de compra ou venda baseado principalmente em uma única, porém poderosa, pista: o Indicador de Força Relativa (RSI).
Como funcionava (de forma simplificada):
RSI em Sobrecompra/Sobrevenda: O detetive observava o RSI. Se o RSI caísse muito (ex: abaixo de 30), indicando que o ativo estava "barato" ou "sobrevendido", ele ficava atento para uma possível COMPRA.
Reversão em "V" ou "A": Para confirmar, ele esperava o RSI começar a subir novamente (formando um "V" no gráfico do RSI) após atingir essa zona de sobrevenda. Esse era o gatilho!
Para Venda: O oposto acontecia. Se o RSI subisse muito (ex: acima de 70), indicando "sobrecompra", ele ficava atento para uma VENDA. A confirmação vinha quando o RSI começava a cair (formando um "A" invertido).
Visualizando o RSI Puro:
Imagine um gráfico simples. O preço do ativo está caindo, e o RSI lá embaixo também está caindo, entrando na zona de "muito barato". De repente, o RSI para de cair e começa a subir um pouquinho. PIMBA! O detetive v1.0 diz: "Comprar!"
(Aqui, eu geraria uma imagem conceitual para ilustrar um sinal de compra RSI clássico)
O Desafio do RSI Puro:
Embora o RSI seja ótimo, às vezes ele pode dar "alarmes falsos".
Tendências Fortes: Em uma tendência de baixa muito forte, o RSI pode ficar em "sobrevenda" por muito tempo, e cada pequena subida (um "V" falso) pode levar a uma compra que continua caindo.
Pouca Confirmação: Apenas o RSI pode não ser suficiente para garantir que a reversão é real e forte.
É aqui que entram os "especialistas" do novo sistema!
2. O Novo Sistema (v2.0): O Detetive RSI e sua Equipe de Especialistas (Filtros)
No sistema v2.0, o detetive RSI continua sendo o primeiro a identificar uma oportunidade (RSI em sobrevenda/sobrecompra + início de reversão). Mas, antes de tomar a decisão final de comprar ou vender, ele agora consulta uma equipe de especialistas (os filtros). Cada especialista analisa a situação sob uma ótica diferente.
O Fluxo Geral da Decisão no v2.0:
Sinal RSI Primário: O RSI gera um sinal potencial de COMPRA ou VENDA (como no sistema antigo).
Consulta aos Especialistas (Filtros): O sinal passa por uma série de checagens. Se um filtro estiver ATIVADO no seu config.py, ele é consultado. Se o filtro DISCORDAR do sinal, ele pode BLOQUEAR a operação.
Filtro de Tendência (EMA Longa no TF Operacional)
Filtro Multi-Timeframe (MTF)
Sub-filtro RSI no MTF
Sub-filtro Tendência (EMA) no MTF
Filtro de Níveis de Suporte e Resistência (S/R)
Sub-filtro Swing Points
Sub-filtro Pivot Points
Filtro de Confirmação por Volume
Decisão Final: Se o sinal passar por TODOS os filtros ativos (ou se nenhum filtro relevante estiver ativo), a ordem é enviada!
A Grande Vantagem: Cada filtro adiciona uma camada de confirmação. O objetivo é filtrar os sinais mais fracos ou aqueles que ocorrem em contextos desfavoráveis, aumentando a probabilidade de acerto (win rate) e, consequentemente, a rentabilidade.
Vamos agora conhecer cada especialista (filtro) em detalhe:
2.1. Especialista em Tendência Principal (Filtro de EMA Longa no Timeframe Operacional)
O que ele faz? Este especialista olha para o "mapa geral" da tendência no timeframe que você está operando (ex: 5 minutos). Ele usa uma Média Móvel Exponencial (EMA) de período longo (ex: EMA de 200 períodos) para saber se o preço está, de modo geral, subindo, descendo ou andando de lado.
Como ele ajuda o Detetive RSI?
Sinal de COMPRA RSI: Se o RSI deu um sinal de compra, mas o preço atual está ABAIXO da EMA longa, este especialista pode dizer: "Cuidado, Detetive! Parece que estamos tentando nadar contra uma maré forte de baixa. Melhor não arriscar."
Sinal de VENDA RSI: Se o RSI deu um sinal de venda, mas o preço atual está ACIMA da EMA longa, ele alerta: "Atenção! A maré geral é de alta. Essa pequena queda pode ser só um respiro antes de subir mais."
Visualizando:
Imagine o gráfico de preços com uma linha suave (a EMA longa) passando por ele. Se os preços estão consistentemente acima dessa linha, a tendência é de alta. Se abaixo, é de baixa.
Cenário 1 (Filtro APROVA COMPRA): O RSI dá sinal de compra (fez um "V" na sobrevenda). O preço está ACIMA da EMA longa. O especialista em tendência diz: "Ok, Detetive, a maré está a nosso favor. Pode comprar!"
(Descrição para imagem conceitual: Gráfico com candles de preço subindo, uma EMA longa abaixo dos candles. Um indicador RSI abaixo mostrando um sinal de compra (seta para cima). Texto: "COMPRA APROVADA: Preço acima da EMA Longa + Sinal RSI".)
Cenário 2 (Filtro BLOQUEIA COMPRA): O RSI dá sinal de compra. Mas o preço está ABAIXO da EMA longa. O especialista diz: "Negativo, Detetive. Comprar agora é arriscado, a tendência principal é de queda."
(Descrição para imagem conceitual: Gráfico com candles de preço caindo, uma EMA longa acima dos candles. Um indicador RSI abaixo mostrando um sinal de compra (seta para cima). Texto: "COMPRA BLOQUEADA: Preço abaixo da EMA Longa, apesar do Sinal RSI".)
Como configurar? No config.py, você ativa com TREND_FILTER_ENABLED = True e define o período da EMA em TREND_EMA_PERIOD.
2.2. Especialista em Contexto Maior (Filtro Multi-Timeframe - MTF)
O que ele faz? Este especialista é como um "supervisor" do detetive RSI. Ele olha para um timeframe (tempo gráfico) maior para ver se o sinal do RSI faz sentido no contexto mais amplo. Por exemplo, se você opera no gráfico de 5 minutos (seu timeframe operacional), o MTF pode olhar o gráfico de 15 minutos ou 1 hora.
Como ele ajuda o Detetive RSI?
O MTF tem dois "sub-especialistas" que ele pode consultar (você pode ativar um, outro, ou ambos no config.py):
A. Sub-Especialista RSI no Timeframe Maior (MTF RSI):
Sinal de COMPRA RSI (no seu TF operacional): O detetive RSI (no 5min) achou um sinal de compra. O supervisor MTF olha o RSI no 15min. Se o RSI no 15min estiver MUITO alto (sobrecomprado, ex: acima de 70-80), o supervisor pode dizer: "Calma aí, Detetive! No quadro geral (15min), o preço já subiu demais. Essa pequena oportunidade de compra no 5min pode ser uma armadilha antes de uma queda maior."
Sinal de VENDA RSI (no seu TF operacional): O oposto. Se o RSI no 15min estiver MUITO baixo (sobrevendido), o supervisor pode bloquear uma venda no 5min.
Visualizando o MTF RSI:
Cenário 1 (MTF RSI APROVA COMPRA):
Gráfico 5min (Operacional): RSI dá sinal de COMPRA (fez "V" na sobrevenda).
Gráfico 15min (Referência MTF): RSI está em uma zona neutra ou também subindo de uma sobrevenda (não está em sobrecompra extrema).
Decisão: "Ok, Detetive, o contexto maior não se opõe. Pode comprar!"
(Descrição para imagem conceitual: Dois gráficos lado a lado. Esquerda (5min): candles, RSI abaixo com sinal de compra. Direita (15min): candles, RSI abaixo em zona neutra ou subindo levemente. Texto: "COMPRA APROVADA (MTF RSI): Sinal 5min + RSI 15min não está em sobrecompra extrema".)
Cenário 2 (MTF RSI BLOQUEIA COMPRA):
Gráfico 5min (Operacional): RSI dá sinal de COMPRA.
Gráfico 15min (Referência MTF): RSI está MUITO ALTO, na zona de sobrecompra (ex: acima de 80).
Decisão: "Negativo, Detetive! O 15min está gritando que o preço pode cair a qualquer momento. Bloqueie essa compra."
(Descrição para imagem conceitual: Dois gráficos lado a lado. Esquerda (5min): candles, RSI abaixo com sinal de compra. Direita (15min): candles, RSI abaixo MUITO ALTO (sobrecompra). Texto: "COMPRA BLOQUEADA (MTF RSI): Sinal 5min, MAS RSI 15min em sobrecompra extrema".)
B. Sub-Especialista de Tendência no Timeframe Maior (MTF EMA):
Sinal de COMPRA RSI (no seu TF operacional): O detetive RSI (5min) achou um sinal de compra. O supervisor MTF olha a EMA longa (ex: EMA 50) no gráfico de 15min. Se o preço no 15min estiver ABAIXO dessa EMA longa, o supervisor pode dizer: "Cuidado! A tendência no 15min é de baixa. Comprar agora no 5min é ir contra a força maior."
Sinal de VENDA RSI (no seu TF operacional): O oposto. Se o preço no 15min estiver ACIMA da EMA longa, ele pode bloquear uma venda no 5min.
Visualizando o MTF EMA:
Cenário 1 (MTF EMA APROVA COMPRA):
Gráfico 5min (Operacional): RSI dá sinal de COMPRA.
Gráfico 15min (Referência MTF): Preço está ACIMA da EMA longa.
Decisão: "Luz verde, Detetive! A tendência no 15min também apoia uma subida."
(Descrição para imagem conceitual: Dois gráficos lado a lado. Esquerda (5min): candles, RSI abaixo com sinal de compra. Direita (15min): candles de preço acima de uma linha de EMA longa. Texto: "COMPRA APROVADA (MTF EMA): Sinal 5min + Preço 15min acima da EMA Longa".)
Cenário 2 (MTF EMA BLOQUEIA COMPRA):
Gráfico 5min (Operacional): RSI dá sinal de COMPRA.
Gráfico 15min (Referência MTF): Preço está ABAIXO da EMA longa.
Decisão: "Bloqueado! A tendência no 15min é de baixa. Não compre."
(Descrição para imagem conceitual: Dois gráficos lado a lado. Esquerda (5min): candles, RSI abaixo com sinal de compra. Direita (15min): candles de preço abaixo de uma linha de EMA longa. Texto: "COMPRA BLOQUEADA (MTF EMA): Sinal 5min, MAS Preço 15min abaixo da EMA Longa".)
Como configurar? No config.py:
Ative o filtro geral: MTF_FILTER_ENABLED = True.
Defina os timeframes de referência: MTF_REFERENCE_TIMEFRAMES = {"1m": "5m", "5m": "15m", "15m": "1h"} (exemplo).
Para o sub-filtro RSI no MTF: MTF_RSI_FILTER_ENABLED = True, MTF_RSI_PERIOD, MTF_RSI_MAX_FOR_BUY, MTF_RSI_MIN_FOR_SELL.
Para o sub-filtro de Tendência (EMA) no MTF: MTF_TREND_FILTER_ENABLED = True, MTF_EMA_PERIOD.
Este especialista MTF é muito útil para evitar entrar em operações que parecem boas no curto prazo, mas que estão desalinhadas com o movimento mais forte do mercado.
2.3. Especialista em Zonas de Perigo/Oportunidade (Filtro de Níveis de Suporte e Resistência - S/R)
O que ele faz? Este especialista é como um cartógrafo que conhece as "zonas seguras" e "zonas perigosas" do mapa de preços. Suportes são como "pisos" onde o preço tende a parar de cair e pode subir. Resistências são como "tetos" onde o preço tende a parar de subir e pode cair.
Como ele ajuda o Detetive RSI?
Se o Detetive RSI encontra um sinal perto de uma dessas zonas importantes, o sinal ganha mais força.
Sinal de COMPRA RSI: Se o RSI deu sinal de compra e o preço atual está PERTO de um NÍVEL DE SUPORTE conhecido, o especialista S/R diz: "Excelente, Detetive! O preço está em um bom ponto de apoio. A chance de subir daqui é maior."
Sinal de VENDA RSI: Se o RSI deu sinal de venda e o preço atual está PERTO de um NÍVEL DE RESISTÊNCIA, ele confirma: "Ótimo ponto, Detetive! O preço bateu no teto, pode ser uma boa hora para vender."
Este filtro também tem dois "sub-especialistas" que podem ser usados (individualmente ou juntos):
A. Sub-Especialista em Topos e Fundos Recentes (Swing Points):
Ele identifica os picos (topos/swing highs) e vales (fundos/swing lows) recentes no gráfico. Esses pontos são suportes e resistências naturais.
Visualizando Swing Points:
Cenário 1 (Swing Point APROVA COMPRA):
RSI dá sinal de COMPRA.
O preço atual está muito próximo de um fundo recente (um "vale" onde o preço subiu antes).
Decisão: "Pode comprar! Estamos perto de um suporte de swing low."
(Descrição para imagem conceitual: Gráfico com candles, um "vale" (fundo) recente destacado. Sinal de compra RSI ocorrendo perto desse vale. Texto: "COMPRA APROVADA (Swing Low): Sinal RSI perto de um fundo recente".)
Cenário 2 (Swing Point NÃO CONFIRMA COMPRA - Sinal pode ser bloqueado se nenhum outro S/R confirmar):
RSI dá sinal de COMPRA.
O preço atual está no "meio do nada", longe de qualquer topo ou fundo recente significativo.
Decisão (se só Swing Points estiver ativo para S/R): "Hum, Detetive, não vejo um suporte claro aqui. Sinal menos confiável."
B. Sub-Especialista em Pontos de Virada Calculados (Pivot Points):
Ele calcula níveis de suporte e resistência baseados nos preços do dia anterior (ou semana, etc., conforme configurado). São níveis matemáticos que muitos traders observam.
Visualizando Pivot Points:
Cenário 1 (Pivot Point APROVA VENDA):
RSI dá sinal de VENDA.
O preço atual está muito próximo de um nível de Resistência de Pivot Point (ex: R1, R2).
Decisão: "Venda aprovada! O preço está perto de uma resistência de pivot."
(Descrição para imagem conceitual: Gráfico com candles, linhas horizontais representando níveis de Pivot Points (PP, S1, R1, S2, R2). Sinal de venda RSI ocorrendo perto de um nível R1. Texto: "VENDA APROVADA (Pivot Resistance): Sinal RSI perto da Resistência R1".)
Como configurar? No config.py:
Ative o filtro geral: SR_FILTER_ENABLED = True.
Para Swing Points: SR_SWING_POINTS_ENABLED = True, SR_SWING_WINDOW, SR_SWING_LOOKBACK_PERIOD, SR_SWING_PRICE_PROXIMITY_PERCENT.
Para Pivot Points: SR_PIVOT_POINTS_ENABLED = True, SR_PIVOT_TIMEFRAME, SR_PIVOT_PRICE_PROXIMITY_PERCENT, SR_PIVOT_LEVELS_TO_USE.
Se AMBOS os sub-filtros (Swing e Pivot) estiverem ativos, o sinal é aprovado se encontrar confluência com PELO MENOS UM deles. Se nenhum dos dois confirmar, o sinal é bloqueado.
2.4. Especialista em Força do Movimento (Filtro de Confirmação por Volume)
O que ele faz? Este especialista mede a "energia" ou "convicção" por trás de um movimento de preço. Um aumento significativo no volume de negociação durante um sinal pode indicar que há mais força e interesse naquele movimento.
Como ele ajuda o Detetive RSI?
Sinal de COMPRA ou VENDA RSI: Se o RSI deu um sinal, este especialista verifica se o volume no momento do sinal (ou no candle do sinal) é consideravelmente MAIOR do que a média do volume recente. Se for, ele diz: "Positivo, Detetive! Há bastante gente participando deste movimento, parece sério!"
Volume Baixo: Se o volume estiver baixo ou na média, ele pode alertar: "Cuidado, Detetive. Este sinal apareceu com pouca participação. Pode ser um movimento fraco ou um alarme falso."
Visualizando:
Imagine o gráfico de preços e, abaixo dele, um gráfico de barras de volume.
Cenário 1 (Volume APROVA COMPRA):
RSI dá sinal de COMPRA.
A barra de volume correspondente ao candle do sinal é visivelmente MAIOR que as barras de volume médias anteriores.
Decisão: "Compra confirmada pelo volume! Há força neste movimento de alta."
(Descrição para imagem conceitual: Gráfico com candles de preço, RSI abaixo com sinal de compra. Abaixo do RSI, um gráfico de volume mostrando uma barra de volume alta no momento do sinal, destacada em relação às anteriores. Texto: "COMPRA APROVADA (Volume): Sinal RSI + Volume Alto".)
Cenário 2 (Volume BLOQUEIA COMPRA):
RSI dá sinal de COMPRA.
A barra de volume correspondente ao candle do sinal é BAIXA ou na média das anteriores.
Decisão: "Compra bloqueada. Volume baixo não confirma a força do sinal RSI."
(Descrição para imagem conceitual: Gráfico com candles de preço, RSI abaixo com sinal de compra. Abaixo do RSI, um gráfico de volume mostrando uma barra de volume baixa ou normal no momento do sinal. Texto: "COMPRA BLOQUEADA (Volume): Sinal RSI + Volume Baixo".)
Como configurar? No config.py:
Ative o filtro: VOLUME_FILTER_ENABLED = True.
Defina o período para calcular a média de volume: VOLUME_LOOKBACK_PERIOD.
Defina o quanto o volume atual precisa ser maior que a média (em porcentagem): VOLUME_INCREASE_PERCENT.
Este filtro ajuda a evitar sinais que ocorrem em momentos de baixa liquidez ou desinteresse do mercado, que são mais propensos a falhar.
3. A Força da Equipe: Como os Filtros Trabalham Juntos
Agora vem a parte mais interessante! No sistema v2.0, você não precisa usar todos os filtros de uma vez. Você pode ativar e desativar cada um deles no config.py. A verdadeira força está em como eles podem trabalhar em conjunto, criando um processo de verificação robusto.
O Caminho do Sinal (Exemplo com Múltiplos Filtros Ativos):
Imagine que você ativou o Filtro de Tendência Operacional, o Filtro MTF (com sub-filtro RSI e EMA) e o Filtro de Volume.
Detetive RSI encontra uma Pista: O RSI no seu timeframe operacional (ex: 5min) dá um sinal de COMPRA (fez um "V" na sobrevenda).
Visual: Gráfico 5min com sinal de compra RSI.
Consulta ao Especialista em Tendência Operacional (EMA Longa no 5min):
Ele verifica se o preço no 5min está acima da EMA longa (ex: EMA 200).
Se o preço estiver ABAIXO da EMA longa: O sinal é BLOQUEADO aqui mesmo! Fim da linha para esta oportunidade.
Visual: Gráfico 5min, preço abaixo da EMA longa. Sinal RSI ignorado. Texto: "BLOQUEADO PELA TENDÊNCIA OPERACIONAL".
Se o preço estiver ACIMA da EMA longa: Ótimo! O sinal passa para o próximo especialista.
Visual: Gráfico 5min, preço acima da EMA longa. Sinal RSI segue adiante. Texto: "APROVADO PELA TENDÊNCIA OPERACIONAL".
Consulta ao Especialista em Contexto Maior (MTF - olhando o 15min):
Sub-Especialista RSI no 15min: Ele verifica se o RSI no 15min NÃO está em sobrecompra extrema.
Se o RSI no 15min estiver MUITO ALTO: Sinal BLOQUEADO! O contexto maior não é favorável.
Visual: Gráfico 15min com RSI em sobrecompra. Texto: "BLOQUEADO PELO RSI MTF".
Se o RSI no 15min estiver OK: O sinal continua.
Visual: Gráfico 15min com RSI em zona neutra/favorável. Texto: "APROVADO PELO RSI MTF".
Sub-Especialista de Tendência (EMA) no 15min (só se o RSI MTF passou ou está desativado): Ele verifica se o preço no 15min está ACIMA da EMA longa do 15min.
Se o preço no 15min estiver ABAIXO da EMA longa: Sinal BLOQUEADO!
Visual: Gráfico 15min, preço abaixo da EMA longa. Texto: "BLOQUEADO PELA TENDÊNCIA MTF".
Se o preço no 15min estiver ACIMA da EMA longa: Excelente! O sinal está forte no contexto maior também.
Visual: Gráfico 15min, preço acima da EMA longa. Texto: "APROVADO PELA TENDÊNCIA MTF".
Consulta ao Especialista em Força do Movimento (Volume no 5min):
Ele verifica se o volume no candle do sinal de compra no 5min foi significativamente ALTO.
Se o volume foi BAIXO: Sinal BLOQUEADO! Faltou "combustível" para o movimento.
Visual: Gráfico de volume no 5min com barra baixa no sinal. Texto: "BLOQUEADO PELO VOLUME".
Se o volume foi ALTO: Perfeito! O sinal tem força.
Visual: Gráfico de volume no 5min com barra alta no sinal. Texto: "APROVADO PELO VOLUME".
DECISÃO FINAL: Se o sinal de COMPRA passou por TODOS esses especialistas (filtros ativos), então, e somente então, a ordem de compra é enviada!
Por que isso é bom?
Menos Sinais Falsos: Cada filtro ajuda a eliminar sinais que poderiam ter falhado.
Operações de Maior Probabilidade: Ao exigir múltiplas confirmações, você tende a entrar em operações que têm mais fatores a seu favor.
Adaptação: Você pode escolher quais filtros usar. Se um ativo responde bem a um filtro específico, você o ativa. Se outro filtro não ajuda muito para aquele ativo, você o desativa.
Exemplo de Combinação Poderosa:
RSI + Tendência Operacional + Tendência MTF + Volume: Esta é uma combinação forte. Você está buscando um sinal de RSI que esteja a favor da tendência tanto no seu timeframe quanto no timeframe maior, e que ainda tenha volume para confirmar a força do movimento imediato.
*(Descrição para imagem conceitual de um FLUXOGRAMA SIMPLES):
Caixa: "Sinal RSI Gerado (Compra/Venda)?"
Seta para "NÃO": "Aguardar Próximo Sinal"
Seta para "SIM": Vai para a próxima caixa.
Caixa (Filtro 1 - Ex: Tendência Operacional): "Filtro de Tendência Operacional ATIVO?"
Seta para "NÃO": Pula para o próximo filtro principal.
Seta para "SIM": Caixa "Sinal APROVADO pela Tendência Operacional?"
Seta para "NÃO": Caixa "SINAL BLOQUEADO". Fim.
Seta para "SIM": Vai para o próximo filtro principal.
Caixa (Filtro 2 - Ex: MTF): "Filtro MTF ATIVO?"
Seta para "NÃO": Pula para o próximo filtro principal.
Seta para "SIM": Caixa "Sinal APROVADO pelo MTF (RSI e/ou EMA)?"
Seta para "NÃO": Caixa "SINAL BLOQUEADO". Fim.
Seta para "SIM": Vai para o próximo filtro principal.
(Continuar para outros filtros como S/R, Volume)
Caixa Final: "TODOS OS FILTROS ATIVOS APROVARAM?"
Seta para "NÃO" (se algum bloqueou antes): Já teria ido para "SINAL BLOQUEADO".
Seta para "SIM": Caixa "ENVIAR ORDEM!".*
Lembre-se: a ordem em que os filtros são aplicados no código (sinal_engine.py) é importante. Se um filtro no início da cadeia bloqueia o sinal, os filtros seguintes nem chegam a ser consultados para aquele sinal específico.
4. Como Começar a Usar e Testar os Filtros no Sistema v2.0
Agora que você entende como cada "especialista" (filtro) funciona e como eles colaboram, a melhor forma de se beneficiar é testando!
Comece Simples: Não ative todos os filtros de uma vez. Comece com o RSI puro (todos os filtros *_ENABLED = False no config.py) para ter uma base de comparação.
Adicione Um Filtro por Vez:
Ative UM filtro (ex: TREND_FILTER_ENABLED = True).
Observe o comportamento do bot por um tempo (idealmente no modo simulado ou com valores baixos em conta real).
Analise os logs: Veja quais sinais o RSI gerou e quais foram bloqueados (ou aprovados) pelo filtro ativo. O log agora detalha qual filtro bloqueou e o motivo.
Compare os resultados com o RSI puro. O filtro ajudou a evitar entradas ruins? Ele bloqueou entradas que teriam sido boas?
Ajuste os Parâmetros do Filtro: Cada filtro tem seus próprios parâmetros no config.py (ex: período da EMA, níveis de RSI para MTF, proximidade para S/R, etc.). Experimente diferentes valores para ver o que funciona melhor para os pares e timeframes que você opera.
Combine Filtros Gradualmente: Depois de entender bem cada filtro individualmente, comece a combinar dois filtros. Depois três, e assim por diante.
Por exemplo, tente RSI + Tendência Operacional. Depois, adicione o MTF.
Observe como as combinações afetam a quantidade e a qualidade dos sinais.
Use o Modo Simulado: O config.py tem a opção SIMULATION_MODE = True. Use-a extensivamente! Isso permite que o bot rode com dados reais, gere sinais, aplique filtros e registre "ordens" em arquivos CSV (SIMULATED_ORDERS_CSV) sem arriscar seu capital. Você pode então analisar esses CSVs para ver o desempenho da sua configuração.
Analise os Arquivos de Log e CSVs:
sinal_engine.py agora gera logs detalhados sobre quais filtros foram aplicados e por que um sinal foi aprovado ou bloqueado.
SIGNALS_CSV: Registra todos os sinais gerados, seu status (ATIVO, BLOQUEADO, FALHOU) e o motivo do bloqueio.
ORDERS_CSV (ou SIMULATED_ORDERS_CSV): Mostra as ordens que foram efetivamente abertas e seu resultado.
ORDERS_PNL_CSV: Acompanha o PnL das posições abertas.
Paciência e Observação: Encontrar a combinação ideal de filtros e parâmetros é um processo iterativo. Requer paciência, observação cuidadosa e análise dos resultados.
5. Benefícios Esperados do Sistema v2.0
Ao usar os filtros de forma inteligente, você pode esperar:
Melhora na Taxa de Acerto (Win Rate): Ao filtrar sinais mais fracos ou que ocorrem em contextos desfavoráveis, a tendência é que as operações que realmente são abertas tenham uma probabilidade maior de sucesso.
Redução de Drawdown: Evitar entradas ruins consecutivas ajuda a proteger seu capital e a reduzir períodos de perdas acentuadas.
Maior Confiança nos Sinais: Saber que um sinal passou por múltiplas camadas de verificação pode te dar mais confiança na operação.
Flexibilidade e Adaptação: A capacidade de ativar/desativar filtros e ajustar seus parâmetros permite que você adapte o sistema a diferentes condições de mercado e a diferentes ativos.
Entendimento Mais Profundo: Ao observar como os filtros interagem, você também aprende mais sobre a dinâmica do mercado e o que constitui um sinal de trading de alta probabilidade.
6. Resumo Visual do Fluxo de Decisão (Conceitual)
Vamos tentar visualizar o fluxo completo de forma simplificada. Imagine uma esteira de produção:
Matéria-Prima: O mercado gera dados (preços, volume).
Primeira Estação (RSI): O Detetive RSI analisa os dados e identifica um "produto semi-acabado" (um sinal potencial de COMPRA ou VENDA).
Visual: Um ícone de alerta RSI.
Esteira de Qualidade (Filtros): O produto semi-acabado passa por várias estações de controle de qualidade (os filtros que estão ATIVOS no config.py).
Estação 1 (Ex: Tendência Operacional): Verifica se está alinhado com a tendência local. Se não, o produto é REJEITADO.
Visual: Um carimbo "APROVADO" ou "REJEITADO" sobre o alerta RSI.
Estação 2 (Ex: MTF): Verifica o contexto maior. Se desfavorável, REJEITADO.
Visual: Outro carimbo sobre o anterior.
Estação 3 (Ex: S/R): Verifica proximidade com zonas chave. Se não houver confluência, REJEITADO.
Visual: Mais um carimbo.
Estação 4 (Ex: Volume): Verifica a força do movimento. Se fraco, REJEITADO.
Visual: O último carimbo.
Produto Final (Ordem): Se o produto passar por TODAS as estações de controle de qualidade ativas (nenhum filtro rejeitou), ele se torna um "produto final" e a ordem é ENVIADA!
Visual: Um ícone de ordem de compra/venda com um selo verde "APROVADO FINAL".
Se em qualquer estação o produto for rejeitado, ele sai da esteira e não se torna uma ordem.
(Descrição para uma imagem de fluxograma mais elaborada, como a descrita anteriormente, mas talvez com ícones representando cada filtro e setas claras mostrando o fluxo de aprovação/rejeição.)
Espero que esta explicação detalhada e as analogias visuais tenham tornado o funcionamento do novo motor de sinais v2.0 muito mais claro para você! O segredo agora é explorar, testar e ajustar até encontrar a configuração que melhor se adapta ao seu estilo e aos seus objetivos.
Lembre-se que, mesmo com todos os filtros, nenhum sistema é 100% infalível. O gerenciamento de risco continua sendo fundamental. Boa sorte e bons trades!